(()=>{"use strict";const e=document.querySelector(".toggle-button"),t=document.querySelector(".out-of-view"),n=document.querySelector(".out-of-view-container"),s=document.querySelector("#order-cart-button"),i=document.querySelector(".off-canvas-container"),o=document.querySelector(".close-style"),l=document.querySelectorAll(".menu-list"),r=document.querySelectorAll(".menu-btn"),c=(document.querySelectorAll(".title-menu"),document.querySelectorAll(".content-item,.dot-item")),a=document.querySelectorAll(".observer"),m=document.querySelectorAll(".intro-observe"),d=(document.querySelector(".off-canvas-content"),document.querySelectorAll('input[value="اضافه کردن سفارش"]'));function u(){r.forEach((function(e){e.classList.remove("btn-theme-bg"),e.classList.remove("text-white"),e.classList.contains("border")||e.classList.add("border")})),this.classList.add("btn-theme-bg"),this.classList.add("text-white"),this.classList.remove("border");for(let e of l)`${this.id}-menu`==e.id?e.classList.remove("d-none"):e.classList.contains("d-none")||e.classList.add("d-none")}const h=new IntersectionObserver((function(e){for(let t of e)t.isIntersecting&&(t.target.classList.replace("img-anim-up","scale-up-img"),t.target.classList.replace("h-anim-right","move-to-right-title"),t.target.classList.replace("p-anim-right","move-to-right-text"),t.target.classList.replace("button-anim-right","move-to-right-btn"),t.target.classList.replace("h-anim-left","move-to-left-title"),t.target.classList.replace("p-anim-left","move-to-left-text"),t.target.classList.replace("button-anim-left","move-to-left-btn"))})),g=new IntersectionObserver((function(e){for(let t=1;t<=e.length;t++)e[t-1].isIntersecting&&e[t-1].target.classList.add(`how-to-item-${t}`)})),f=new IntersectionObserver((function(e){for(let t of e)t.isIntersecting&&(t.target.classList.contains("intro-show")||t.target.classList.add("intro-show"))}));let L=Symbol(),b=new WeakMap;e.addEventListener("click",(function(){!function(){e.classList.toggle("theme-bg");const t=e.children;for(let e of t)e.classList.toggle("toggled-bar")}(),n.classList.replace("out-of-view-container","height-grow"),t.classList.toggle("out-of-view")})),s.addEventListener("click",(function(){i.classList.toggle("d-none")})),document.addEventListener("click",(function(e){e.target.classList.contains("off-canvas-container")&&i.classList.add("d-none")})),o.addEventListener("click",(function(){i.classList.add("d-none")})),r.forEach((e=>e.addEventListener("click",u))),function(){let e=document.querySelectorAll(".title-menu");if(window.innerWidth>=576)for(let t of e)t.firstElementChild.innerHTML.length>=18?t.firstElementChild.classList.add("scroll-animation"):t.firstElementChild.classList.remove("scroll-animation")}(),c.forEach((e=>g.observe(e))),a.forEach((e=>h.observe(e))),m.forEach((e=>f.observe(e)));const v=new class{constructor(){this[L]=[],b.set(this,{name:void 0,image:void 0,number:void 0,price:void 0})}storeToLocal(){let e=JSON.parse(localStorage.getItem("basketItem"));if(e){this[L]=e;for(let e=0;e<this[L].length;e++){if(console.log("i"),console.log(this[L].length),this[L][e].name==b.get(this).name){this[L][e].number+=Number(b.get(this).number),localStorage.setItem("basketItem",JSON.stringify(this[L]));break}e==this[L].length-1&&(this[L].push(b.get(this)),localStorage.setItem("basketItem",JSON.stringify(this[L])))}}else this[L].push(b.get(this)),localStorage.setItem("basketItem",JSON.stringify(this[L]))}storeToSingle(e,t,n,s){b.get(this).name=e,b.get(this).image=t,b.get(this).number=n,b.get(this).price=s,this.storeToLocal()}get basketLength(){return this[L].length}};d.forEach((e=>e.addEventListener("click",(function(){let t=e.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.firstElementChild.innerHTML,n=e.parentElement.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.firstElementChild.src,s=e.previousElementSibling.value,i=e.parentElement.parentElement.parentElement.firstElementChild.lastElementChild.innerHTML;i=i.split("تومان")[0],n=n.split("/images")[1],v.storeToSingle(t,n,Number(s),Number(i))}))))})();